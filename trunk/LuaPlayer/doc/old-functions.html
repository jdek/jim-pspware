<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Lua Player</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style type="text/css">
UNKNOWN {
        FONT-SIZE: small; COLOR: #000000; FONT-FAMILY: verdana, sans-serif
}
BODY {
        FONT-SIZE: small; FONT-FAMILY: verdana, sans-serif
}
pre {background:#eeeeee;border:1px solid #777777;padding:4px}

</style>
</head>
<body>
<h1>Lua Player</h1>
<h2>Function reference</h2>
<p>You can use all Lua functions from <a href="http://www.lua.org">http://www.lua.org</a> 
  and the following special PSP Lua Player functions for your script.lua:</p>
<h3> int ctrlRead()</h3>
<p>Return the current bitmask of the buttons. Use the isCtrl*-functions to check<br>
  which button is pressed.</p>
<h3> boolean isCtrlSelect(int bitmask)</h3>
<p>Return true, if the bit for the select key is set in the bitmask.</p>
<h3> boolean isCtrlStart(int bitmask)</h3>
<p>Return true, if the bit for the start key is set in the bitmask.</p>
<h3> boolean isCtrlUp(int bitmask)</h3>
<p>Return true, if the bit for the up key is set in the bitmask.</p>
<h3> boolean isCtrlRight(int bitmask)</h3>
<p> Return true, if the bit for the right key is set in the bitmask.</p>
<h3>boolean isCtrlDown(int bitmask)</h3>
<p> Return true, if the bit for the down key is set in the bitmask.</p>
<h3>boolean isCtrlLeft(int bitmask)</h3>
<p>Return true, if the bit for the left key is set in the bitmask.</p>
<h3> boolean isCtrlUp(int bitmask)</h3>
<p>Return true, if the bit for the up key is set in the bitmask. </p>
<h3>boolean isCtrlLTrigger(int bitmask)</h3>
<p>Return true, if the bit for the left trigger is set in the bitmask. </p>
<h3> boolean isCtrlRTrigger(int bitmask)</h3>
<p>Return true, if the bit for the right trigger is set in the bitmask. </p>
<h3> boolean isCtrlTriangle(int bitmask)</h3>
<p>Return true, if the bit for the triangle key is set in the bitmask. </p>
<h3> boolean isCtrlCircle(int bitmask)</h3>
<p>Return true, if the bit for the circle key is set in the bitmask. </p>
<h3> boolean isCtrlCross(int bitmask)</h3>
<p>Return true, if the bit for the cross key is set in the bitmask. </p>
<h3> boolean isCtrlSquare(int bitmask)</h3>
<p>Return true, if the bit for the square key is set in the bitmask. </p>
<h3> boolean isCtrlHome(int bitmask)</h3>
<p>Return true, if the bit for the home key is set in the bitmask. </p>
<h3> boolean isCtrlHold(int bitmask) </h3>
<p>Return true, if the bit for the hold key is set in the bitmask. </p>
<h3> void waitVblankStart([int count])</h3>
<p>Wait for next Vblank start. If you specify a count parameter, it waits multiple 
  times for Vblank start. This can be used for delays, for example 60 for a one 
  seconds delay.</p>
<h3> int flipScreen()</h3>
<p>Flip the current drawing offscreen with the display screen.</p>
<h3> void blitImage(int x, int y, int imageHandle [, int destinationImageHandle])</h3>
<p>Blit an image to screen or into another image, if destinationImageHandle is 
  specified. Alpha channel is ignored.</p>
<h3> void blitAlphaImage(int x, int y, int imageHandle [, int destinationImageHandle])</h3>
<p>Blit an image to screen or into another image, if destinationImageHandle is 
  specified.</p>
<h3> void blitImageRect(int sx, int sy, int width, int height, int imageHandle, 
  int dx, int dy [, int destinationImageHandle])</h3>
<p>sx: left position of rectangle in source image<br>
  sy: top position of rectangle in source image<br>
  width: width of rectangle in source image<br>
  height: height of rectangle in source image<br>
  imageHandle: the source image<br>
  dx: left target position in destination image or screen<br>
  dy: top target position in destination image or screen<br>
  destinationImageHandle: destination image, if specified</p>
<p>Blit a part of an image to screen or into another image, if<br>
  destinationImageHandle is specified. Alpha channel is ignored.</p>
<h3> void blitAlphaImageRect(int sx, int sy, int width, int height, int imageHandle, 
  int dx, int dy [, int destinationImageHandle])</h3>
<p>Same as blitImageRect, but with alpha channel.</p>
<h3> void fillRect(int color, int x0, int y0, int width, int height [, int destinationImageHandle])</h3>
<p>Fill a rectangle.</p>
<h3> int createImage(int width, int height)</h3>
<p>Create an empty image.</p>
<h3> void clear(int color [, int imageHandle])</h3>
<p>Clear an image or screen.</p>
<h3> void screenshot(string filename)</h3>
<p>Save a screenshot in the game directory in TGA format.</p>
<h3> int loadImage(string filename)</h3>
<p>Load an image in the game directory in PNG format.</p>
<h3> getImageWidth(int imageHandle)</h3>
<p>Get the width of an image.</p>
<h3> getImageHeight(int imageHandle)</h3>
<p>Get the height of an image.</p>
<h3> void putPixel(int color, int x, int y [, int imageHandle)</h3>
<p>Put a pixel on an image or on screen.</p>
<h3> int getPixel(int x, int y [, int imageHandle)</h3>
<p>Get the color of an pixel of an image or screen.</p>
<h3> void printDecimal(int x, int y, int value, int color)</h3>
<p>Print a decimal number as 7 segment.</p>
<h3> void printText(int x, int y, string text, int color)</h3>
<p>Print a text at the specified position</p>
<h3> int getColorNumber(int r, int g, int b)</h3>
<p>Return the color for using with putPixel, clear and fillRect (opaque is set 
  for alpha)</p>
<h3> table dir([path])</h3>
<p>Return the entries of the current directory or of path, if specified, or nil,<br>
  if an error occured</p>
<h3> string getCurrentDirectory()</h3>
<p>Return the current directory.</p>
<h3> void setCurrentDirectory(string path)</h3>
<p>Change the current directory</p>
<h3> void drawLine(int x0, int y0, int x1, int y1, int color [, int imageHandle])</h3>
<p>Draw a line. </p>
</body>
</html>
